<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Audio Transcription</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<div style="margin-top: 20px;"></div>
<body>
  <h1 style="text-align: center;">Audio Transcription</h1>
  <div class="container">
    <div class="half-width left-box">
      <h2>Upload Audio</h2>
      <form id="upload-form" enctype="multipart/form-data">
        <input type="file" name="audio" accept="audio/*" required />
        <button type="submit">Transcribe</button>
      </form>
    </div>

    <div class="half-width right-box">
      <h2>Record Audio</h2>
      <button id="record-btn">Start Recording</button>
      <button id="stop-btn" disabled>Stop & Transcribe</button>
    </div>
  </div>

  <div id="loading-spinner" style="display: none;">
    <p style="text-align: center;">Transcribing...</p>
    <div class="spinner"></div>
  </div>

  <div class="transcriptions">
    <h2>Transcript</h2>
    <form id="transcript-edit" enctype="multipart/form-data">
      <label for="edited_transcript">Edit before saving</label><br><br>
      <textarea name="edited_transcript"></textarea><br>
      <button type="submit">Save</button>
    </form>
    <p id="save-status" style="display: none; color: green; font-weight: bold;">
      Saved!
    </p>
    <p id="save-error" style="display: none; color: red; font-weight: bold;">
      Failed to save. Please try again.
    </p>
  </div>

  <div class="transcriptions">
    <h3>Previous Transcripts</h3>
    <ul id="transcript-history"></ul>
  </div>

  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
